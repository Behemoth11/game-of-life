import test from 'ava';
import Directive from './directive';
test('Parser should produce correct cells', (ctx) => {
    let sample = `
1,2
`.trim();
    let parser = new Directive.Parser();
    parser.feed(sample);
    ctx.deepEqual(parser.next_cell(), [0, 1]);
});
test('Should process jump expression successfully', (ctx) => {
    let sample = `
->9, 1,2
`.trim();
    let parser = new Directive.Parser();
    parser.feed(sample);
    ctx.deepEqual(parser.next_cell(), [9, 1]);
});
test('Should process nested directive successfully', (ctx) => {
    let square = `
1,2,3,
1,  3,
1,2,3,
`.trim();
    let sample = `
-|square.2,
`.trim();
    let parser = new Directive.Parser();
    parser.register_directive('square', square);
    parser.feed(sample);
    ctx.deepEqual(parser.next_cell(), [0, 3]);
    ctx.deepEqual(parser.next_cell(), [0, 4]);
    ctx.deepEqual(parser.next_cell(), [0, 5]);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2VyLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL0NvbmZpZ3VyYXRpb24vcGFyc2VyLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxJQUFJLE1BQU0sS0FBSyxDQUFDO0FBQ3ZCLE9BQU8sU0FBUyxNQUFNLGFBQWEsQ0FBQztBQUVwQyxJQUFJLENBQUMscUNBQXFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUNsRCxJQUFJLE1BQU0sR0FBRzs7Q0FFZCxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ1AsSUFBSSxNQUFNLEdBQUcsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDcEMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVwQixHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVDLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLDZDQUE2QyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7SUFDMUQsSUFBSSxNQUFNLEdBQUc7O0NBRWQsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNQLElBQUksTUFBTSxHQUFHLElBQUksU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFcEIsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QyxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyw4Q0FBOEMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO0lBQzNELElBQUksTUFBTSxHQUFHOzs7O0NBSWQsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNQLElBQUksTUFBTSxHQUFHOztDQUVkLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFUCxJQUFJLE1BQU0sR0FBRyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUVwQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRTVDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFcEIsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUMsQ0FBQyxDQUFDLENBQUMifQ==